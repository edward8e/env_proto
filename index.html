<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NED Galaxy Environments</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dosis:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400" rel="stylesheet">




    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.3/js/bootstrap-select.min.js"></script>
    <!-- Masonry JS -->
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <!-- Draggabilly JS -->
    <script src="https://unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min.js"></script>
    <!-- In <head> -->
    <link href="css/nouislider.min.css" rel="stylesheet">
    <!-- In <head> -->
    <link href="css/slider.css" rel="stylesheet">
    <link href="css/simple-sidebar.css" rel="stylesheet">
    <!-- Compiled and minified CSS -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css"> -->


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- In <body> -->
    <script src="js/nouislider.min.js"></script>
    <!-- In <body> -->
    <script src="js/wNumb.js"></script>
    <!-- In <body> -->
    <script src="js/astro.js"></script>
    <!-- In <body> -->
    <script src="js/astro.coords.js"></script>
    <!-- In <body> -->
    <script src="js/astro.constants.js"></script>
    <!-- In <body> -->
    <script src="js/astro.dates.js"></script>
    <!-- Compiled and minified JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script> -->
    <!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://use.fontawesome.com/6d2387fc38.js"></script>

    <script src="https://unpkg.com/packery@2/dist/packery.pkgd.min.js"></script>
    <script src="https://unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
      integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
      crossorigin="anonymous"></script>


    <!--<link rel="stylesheet" type="text/css" href="css/style.css">-->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/layout.css">
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">

        <div class="navbar-header">

          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
          <div class="navbar-brand">
            <a href="#menu-toggle" class="fa fa-bars fa-lg" id="menu-toggle"></a>
            <a href="index.html">NED</a>
          </div>
          </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="defaultNavbar1">
          <ul class="nav navbar-nav">
            <!-- <li><a href="dark.html">Dark Theme<span class="sr-only">(current)</span></a></li>
            <li><a href="light.html">Light Theme<span class="sr-only">(current)</span></a></li> -->
          </ul>

          <div class="row pull-right">
            <div class="col-xs-6">
              <h6>Activate Dark Mode: </h6>
            </div>
            <div class="col-xs-6" style="padding: 10px 0px;">
              <div class="onoffswitch" >
                <input type="checkbox" name="onoffswitch12" class="onoffswitch-checkbox" id="myonoffswitch12">
                <label class="onoffswitch-label" for="myonoffswitch12">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div class="container-fluid main-body" id="wrapper">
      <!-- Sidebar -->
        <div id="sidebar-wrapper">
<div class="text-left" id="settings-right">
         <div class="light-dark">
         <div class="bg-popout"><div class="text-center setting-title"><h4>SETTINGS</h4></div></div>

         <div class="setting-inner">







           <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

             <div class="panel">
               <div class="panel-heading" role="tab" id="headingOne">
                 <h4 class="panel-title">
                   <a class="collapsed" onclick="DropDown(1)" role="button" data-toggle="collapse" data-target="#collapseOne" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                     <div class="bg-popout">
                       <div class="drop-title">
                           <h4>Galaxy Environment Options:</h4>
                           <i class="fa fa-plus-circle fa-lg" id="toggle-icon1"></i>
                       </div>
                     </div>
                   </a>
                 </h4>
               </div>
               <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                 <div class="panel-body">
                   <div class="bg-popin">
                   <h5>Hover on and off</h5>
                   <div class="onoffswitch">
                      <input type="checkbox" name="onoffswitch1" class="onoffswitch-checkbox" id="myonoffswitch1">
                      <label class="onoffswitch-label" for="myonoffswitch1">
                          <span class="onoffswitch-inner"></span>
                          <span class="onoffswitch-switch"></span>
                      </label>
                   </div>
                   <h5>Data Points</h5>
                   <div class="onoffswitch">
                      <input type="checkbox" name="onoffswitch5" class="onoffswitch-checkbox" id="myonoffswitch5" >
                      <label class="onoffswitch-label" for="myonoffswitch5">
                          <span class="onoffswitch-inner"></span>
                          <span class="onoffswitch-switch"></span>
                      </label>
                   </div>
                   <h5>Plot Controls</h5>
                   <div class="onoffswitch">
                      <input type="checkbox" name="onoffswitch6" class="onoffswitch-checkbox" id="myonoffswitch6" >
                      <label class="onoffswitch-label" for="myonoffswitch6">
                          <span class="onoffswitch-inner"></span>
                          <span class="onoffswitch-switch"></span>
                      </label>
                   </div>
                   <h5>Toggle color mode</h5>
                   <div class="main-box">
                    <div class="onoffswitch10 text-center">
                      <input type="checkbox" name="onoffswitch10" class="onoffswitch-checkbox10" id="myonoffswitch10" >
                      <label class="onoffswitch-label10" for="myonoffswitch10">
                          <span class="onoffswitch-inner10"></span>
                          <span class="onoffswitch-switch10"></span>
                      </label>
                    </div>
                   </div>
                   </div>
                 </div>
               </div>
             </div>

             <div class="panel">
               <div class="panel-heading" role="tab" id="headingTwo">
                 <h4 class="panel-title">
                   <a class="collapsed" onclick="DropDown(2)" role="button" data-toggle="collapse" data-target="#collapseTwo" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                     <div class="bg-popout">
                       <div class="drop-title">
                           <h4>3D Galaxy Environment Options:</h4>
                           <i class="fa fa-plus-circle fa-lg" id="toggle-icon2"></i>
                       </div>
                     </div>
                   </a>
                 </h4>
               </div>
               <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                 <div class="panel-body">
                   <div class="bg-popin">
                   <h5>Coordinate System:</h5>
                   <div class="drop-constraint input-box">
                     <select id ="ddl" name="ddl" onmousedown="this.value='';" onchange="jsFunction(this.value);">
                       <option value="1">SuperGalactic Coordinates</option>
                       <option value="2">Equatorial Coordinates</option>
                       <option value="3">Equatorial Coordinates Test</option>
                     </select>
                   </div>
                   <h5>Velocity Options:</h5>
                   <div class="drop-constraint input-box">
                     <select id ="ddl2" name="ddl2" onmousedown="this.value='';" onchange="jsFunction1(this.value);">
                       <option value="1">SuperGalactic(Mpc)</option>
                       <option value="2">CZ</option>
                       <option value="3">Δ<sub>cz</sub> [km/s]</option>
                     </select>
                   </div>
                   </div>
                 </div>
               </div>
             </div>

             <div class="panel">
               <div class="panel-heading" role="tab" id="headingThree">
                 <h4 class="panel-title">
                   <a class="collapsed" onclick="DropDown(3)" role="button" data-toggle="collapse" data-target="#collapseThree" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                     <div class="bg-popout">
                       <div class="drop-title">
                           <h4>Toggle Graphs ON/OFF:</h4>
                           <i class="fa fa-minus-circle fa-lg" id="toggle-icon3"></i>
                       </div>
                     </div>
                   </a>
                 </h4>
               </div>
               <div id="collapseThree" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingThree">
                 <div class="panel-body">
                   <div class="bg-popin">
                     <h5>3D Galaxy Environment</h5>
                     <div class="onoffswitch">
                         <input type="checkbox" name="onoffswitch7" class="onoffswitch-checkbox" id="myonoffswitch7" checked>
                         <label class="onoffswitch-label" for="myonoffswitch7">
                             <span class="onoffswitch-inner"></span>
                             <span class="onoffswitch-switch"></span>
                         </label>
                     </div>
                     <h5>Dec vs. RA</h5>
                     <div class="onoffswitch">
                         <input type="checkbox" name="onoffswitch8" class="onoffswitch-checkbox" id="myonoffswitch8" checked>
                         <label class="onoffswitch-label" for="myonoffswitch8">
                             <span class="onoffswitch-inner"></span>
                             <span class="onoffswitch-switch"></span>
                         </label>
                     </div>
                     <h5>Δcz vs. RA</h5>
                     <div class="onoffswitch">
                         <input type="checkbox" name="onoffswitch9" class="onoffswitch-checkbox" id="myonoffswitch9" checked>
                         <label class="onoffswitch-label" for="myonoffswitch9">
                             <span class="onoffswitch-inner"></span>
                             <span class="onoffswitch-switch"></span>
                         </label>
                     </div>
                   </div>
                 </div>
               </div>
             </div>

           </div>










          <div class="bg-popout">
            <button id="button-download" class="btn btn-default">Download Graph</button>
          </div>
        </div>
          </div>
          </div>

      </div>










<div id="page-content-wrapper">
  <div class="">
      <div class="main-section">


  <!-- Page content -->

      <div class="grid">

<div class="grid-item" id="searchbox">
  <div class="text-center" id="request-box">
    <br />
    <h2>Radial Velocity Constrained Cone Searches</h2>
    <h2>Direction of Search:</h2>
  <input type="text" name="initalgalaxy" class="dark-mode input-box" value="ARP220" id="tags">
    <button onclick="InitialPlot()" id="initalplot" class="btn btn-primary">Submit</button>
    <h5>Example: ARP220, NGC6240, UCG5991,etc.</h5>

  </div>
  <div class="lds-css ng-scope" id="loading">
  <div class="loading-box">
    <div class="lds-facebook" align="center">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>
</div>

      <div class="grid-item grid-item--width--graph1" id="togglegraph1">
        <div id="my-graph"></div>
      </div>

      <div class="grid-item grid-item--width--graph2" id="togglegraph2">
        <div id="my-graph1"></div>
      </div>

      <div class="grid-item grid-item--width--graph3 grid-item--height2" id="togglegraph3">
        <div id="my-graph2"></div>
      </div>

      <div class="grid-item grid-item--height--data grid-item--width--data" id="data-window">
            <div class="row ">
              <div class="col-sm-12" id="data-right">
              <div class="light-dark data-box"><h4 class="info-highlight">Select point to populate information:</h4>
                <h3>Data point No. <span id="hoverinfonum"></span></h3>
                <hr>
                <h4>Name: <span id="hoverinfoname"></h4>
                <div class="row">
                  <div class="col-sm-6">
                    <ul >
                      <li>RA (J2000): <span class="data-out" id="hoverinfora"></span></li>
                      <li>Dec (J2000): <span class="data-out" id ="hoverinfodec"></span></li>
                      <li>Object Type: <span class="data-out" id="hoverinfootype"></span></li>
                      <li>cz [km/s]: <span class="data-out" id="hoverinfocz"></span></li>
                      <li>z-flag: <span class="data-out" id="hoverinfozflag"></span></li>
                    </ul>
                  </div>
                  <div class="col-sm-6">
                    <ul >
                      <li>Redshift Reference: <span class="data-out" id="hoverinforshift"></span></li>
                      <li>PA [deg]: <span class="data-out" id="hoverinfopa"></span></li>
                      <li>Sep. [Mpc]: <span class="data-out" id="hoverinfosep"></span></li>
                      <li>Δcz [km/s]: <span class="data-out" id="hoverinfodeltacz"></span></li>
                    </ul>
                  </div>
                </div>
              </div>
              </div>
            </div>
          </div>


      <div class="grid-item grid-item--width--graphSettings" id="slider-box">
        <div>
          <h5 class="text-center">Set slider Δcz [km/s] range</h5>
          <div id="slider"></div>
        </div>
      </div>








      <div class="grid-item grid-item--width--table" id="bottomtable">
            <div class="row table-responsive " >
    					<div class="col-sm-12 bottom-table" >
    						<div class="light-dark ">
    							<table class="table-info table referece-table ">
    								<thead class="title-font">
    									<tr class="table-center bg-primary ">
    										<th>Name</th>
                        <th>RA (J2000)</th>
                        <th>Dec (J2000)</th>
                        <th>Object Type</th>
                        <th>cz [km/s]</th>
                        <th>z-flag</th>
                        <th>Redshift Reference</th>
                        <th>PA [deg]</th>
                        <th>Sep. [Mpc]</th>
                        <th>Δcz [km/s]</th>
    									</tr>
    								</thead>
    							</table>
    						<div class="bottom-table-format">
    							<table id="test" class="table table-responsive table-hover"></table>
    						</div>
    					</div>
    				</div>
    			</div>
      </div>
    </div>
    <!-- End of grid -->
    </div>
    </div>
</div>



    </div>
    <!-- Menu Toggle Script -->
    <script>
function DropDown(num){
  $('#toggle-icon'+ num).fadeOut(100, function(){
                $('#toggle-icon'+ num).toggleClass('fa-plus-circle fa-minus-circle').fadeIn(200);
            });


// $(".minus").css("display", "block");

}
    </script>



        <script>
        // external js: packery.pkgd.js, draggabilly.pkgd.js

        var $grid = $('.grid').packery({
          itemSelector: '.grid-item',
          columnWidth: 1,
          // set positions with percent values
        percentPosition: true,
        fitWidth: true
        });


        // external js: packery.pkgd.js, jquery-ui-draggable.js





        </script>



    <script>
                d3.text("https://edward8e.github.io/env_proto/e_search_arp_220.csv", function(data) {
                    var parsedCSV = d3.csvParseRows(data);

                    var container = d3.select("#test")
                        .selectAll("tr")
                            .data(parsedCSV).enter()
                            .append("tr")
                        .selectAll("td")
                            .data(function(d) { return d; }).enter()
                            .append("td")
                            .text(function(d) { return d; });
                });

    //	$("table").addClass('be-still');

    	</script>
      <!-- <script>
      var charts = [1,1,1];

      </script> -->

<script>
var GsgX = [];
var GsgY = [];
var GsgZ = [];
var names = [], Ra = [], Dec = [], OType = [], cz = [], zFlag = [], RShift = [], Pa = [], Sep = [], deltaCZ = [];
var hms = [];   // your input string
var hmsa = [];   // your input string
var pn = [];
var z = [];
var seconds = [];
var arcseconds = [];
var pShape = [];
 var number = [];
 var HO = 73.8;
 var color2 = [];
 var xCoorFinal = [];
 var Speedlight = 299792458;// (m/s)
var data = [];
var xplot2 = [];
var xnew = [];


$( function() {
  var availableTags = [
    "ARP220",
    "ARP240"
  ];
  $( "#tags" ).autocomplete({
    source: availableTags
  });
} );



function InitialPlot(){
  LoadData();

}

function LoadData(){
  var galaxy = $('input[name=initalgalaxy]').val().toUpperCase().replace(/\s/g, '');
  console.log(galaxy);
   $.getJSON('https://raw.githubusercontent.com/edward8e/env_proto/gh-pages/goals_env/'+ galaxy + '.json', function (json) {
  data = json.data_table;
  names = [];
  Ra = [];
  Dec = [];
  OType = [];
  cz = [];
  zFlag = [];
  RShift = [];
  Pa = [];
  Sep = [];
  deltaCZ = [];
  for(var i = 0; i < json.data_table.length; i++){
    names.push(data[i][0]);
    Ra.push(data[i][1]);
    Dec.push(data[i][2]);
    OType.push(data[i][3]);
    cz.push(data[i][4]);
    zFlag.push(data[i][5]);
    RShift.push(data[i][6]);
    Pa.push(data[i][7]);
    Sep.push(data[i][8]);
    deltaCZ.push(data[i][9]);
  }
 }).done(function( json ) {
     $("#request-box").fadeOut();
  $("#loading").fadeIn(function(){
    setTimeout(step3, 1000);
  });
  }).fail(function() {
   alert("Invalid input position or input name not recognized by NED");
});
}

function step3() {
  loadArrays();
  $("#slider-box").fadeIn();
  $("#bottomtable").fadeIn();
  $("#togglegraph1").fadeIn(function(){
    AddPlot1();
  });
  $("#togglegraph2").fadeIn(function(){
    AddPlot2();
  });
  $("#togglegraph3").fadeIn(function(){
    AddPlot3();
    CheckDarkMode();
    $("#loading").fadeOut();
    $("#searchbox").fadeOut(function(){
    $grid.packery('layout');
  });
  });

}






$.ajax({
  type: "GET",
  url: "https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url%3D'https%3A%2F%2Fedward8e.github.io%2Fenv_proto%2Farp220XML.xml'&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",
  dataType: "xml",
  success: xmlParser,
});


function xmlParser(xml){

    // $(xml).find("row").each(function(idx, v) {
    //     data[idx] = [];
    //     $(v).find("FIELD1").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD2").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD3").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD4").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD5").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD6").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD7").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD8").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD9").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    //     $(v).find("FIELD10").each(function( i , vi) {
    //         data[idx].push( $(vi).text() );
    //     });
    // });
    // for(var i = 1; i < data.length; i++){
    //   //Table Data
    //   names.push(data[i][0]);
    //   Ra.push(data[i][1]);
    //   Dec.push(data[i][2]);
    //   OType.push(data[i][3]);
    //   cz.push(data[i][4]);
    //   zFlag.push(data[i][5]);
    //   RShift.push(data[i][6]);
    //   Pa.push(data[i][7]);
    //   Sep.push(data[i][8]);
    //   deltaCZ.push(data[i][9]);
    // }

    // $.getJSON('https://raw.githubusercontent.com/edward8e/env_proto/gh-pages/goals_env/ARP220.json', function (json) {
    //  data = json.data_table;
    //  for(var i = 0; i < json.data_table.length; i++){
    //    names.push(data[i][0]);
    //    Ra.push(data[i][1]);
    //    Dec.push(data[i][2]);
    //    OType.push(data[i][3]);
    //    cz.push(data[i][4]);
    //    zFlag.push(data[i][5]);
    //    RShift.push(data[i][6]);
    //    Pa.push(data[i][7]);
    //    Sep.push(data[i][8]);
    //    deltaCZ.push(data[i][9]);
    //  }
    // });
    // loadArrays();
    // AddPlot1();
    // AddPlot2();
    // AddPlot3();
    // CheckDarkMode();
}


function loadArrays(){
  hms = Ra.slice();
  hmsa = Dec.slice();
  pn = deltaCZ.slice();
  z = deltaCZ.slice();
  pShape = OType.slice();
  color2 = Dec.slice();
  seconds = Ra.slice();
  arcseconds = Dec.slice();
}

function resizeplot1(graph){
                $(this).delay(1000).queue(function() {
                  // your Code | Function here
                  $grid.packery('layout');
                  Plotly.Plots.resize(graph);
                  $(this).dequeue();
               });
}



function resizeplot2(graph) {
   //do whatever you want here
   $grid.packery('layout');
   // use setTimeout() to execute
   function test(){
     Plotly.Plots.resize(graph);
   }
 setTimeout(test, 1000);
}



function AddPlot1(){
    var HO = 73.8;
    //-----------------------------------------------------------
function RaParse(){
      //filters out the strings and makes time into three section array
     for(var i = 0; i < hms.length; i++)
     {
        hms[i] = hms[i].replace("s",""); //removes s
        hms[i] = hms[i].split(/[hm]/); //separates based off "h" and "m"
     }

    //Pulls array and calculates the seconds
    for(i = 0; i < hms.length; i++){
        var secCalc = 15 * ((+hms[i][0]) + (+hms[i][1]) / 60 + (+hms[i][2]) / 3600);
        seconds.push(secCalc);//flip xaxis
      secCalc = 0;
    }
}
function DecParse(){
    //-----------------------------------------------------------
    // Converter Dec(right acension) to seconds
    // 00d00m00s to 00sec

    //filters out the strings and makes time into three section array
     for(var i = 0; i < hmsa.length; i++)
     {
        hmsa[i] = hmsa[i].replace("s",""); //removes s
        hmsa[i] = hmsa[i].replace("+",""); //removes s
        hmsa[i] = hmsa[i].split(/[dm]/); //separates based off "h" and "m"
     }

    //Pulls array and calculates the seconds
    for(var i = 0; i < hmsa.length; i++){
        var secCalc = (+hmsa[i][0]) + (+hmsa[i][1]) / 60 + (+hmsa[i][2]) / 3600;
        arcseconds.push(secCalc);
      secCalc = 0;
    }
    //
    //-----------------------------------------------------------
}














    //changes the color of the points to red and blue depending on positive or negative

    for(var i = 0; i < hmsa.length; i++){
      if (pn[i] > 0){
        pn[i] = 'rgb(178,34,34)';
      }else{
      pn[i] = 'rgb(10, 97, 194)';
      }
    }


// Gives number to every point

    for(i = 0; i <= hmsa.length; i++)
    {
      number[i] = i;
    }

var testing = [];
    x = Ra.slice(0);
    y = Dec.slice(0);
    testing = Ra.slice(0);



    d = [1,2,3,4,5];
    var xmax = Math.max(d);

    var gl = [], gb = [];
    var sgx = [], sgy = [], sgz = [];
    for(var i = 0; i < x.length; i++){
      astrojs.ready(function(e){
      var coord = astrojs.coords.equatorial2galactic(x[i],y[i]);
      gl[i] = coord.l;
      gb[i] = coord.b;
      });
    }
// console.log(gl[1]);
// console.log(gb[1]);
// SuperGalactic(205.55000000,8.38805556);

var SuperGalactic = function(ra,dec){
  var radeg = 180.0/Math.PI;

  var rapol = 283.18940711/15.0;
  var decpol = 15.64407736;
  var dlon =  26.73153707;

  var sdp = Math.sin(decpol/radeg);
  var cdp = Math.sqrt(1-sdp*sdp);
  var radhrs=radeg/15;

  var ras = ra;
  var decs = dec;

  // bprecess(ras,decs);
  // var ras = 204.9271;
  // var decs = 8.639863;

  ras = ras/radeg - rapol/radhrs;
  var sdec = Math.sin(decs/radeg);
  var cdec = Math.sqrt(1*Math.pow(10,0)-sdec*sdec);
  var sgb = sdec*sdp + cdec*cdp*Math.cos(ras);
  var gb = radeg * Math.asin(sgb);
  var cgb = Math.sqrt(1*Math.pow(10,0)-sgb*sgb);
  var sine = cdec * Math.sin(ras) / cgb;
  var cose = (sdec-sdp*sgb) / (cdp*cgb);
  var gl = dlon - radeg*Math.atan2(sine,cose);
  var ltzero = (gl < 0);
  if(ltzero == true){
    gl =gl + 360;
  }
 return [gb, gl];
};

var sgb = [];
var sgl = [];
for(var i = 0; i < x.length; i++){
  var sgc = SuperGalactic(x[i],y[i]);
  sgb.push(sgc[0]);
  sgl.push(sgc[1]);
}
for(var i = 0; i < x.length; i++){
  sgb[i] = sgb[i] * Math.PI/180;
  sgl[i] = sgl[i] * Math.PI/180;
}
// console.log(sgb);
// console.log(sgl);
// console.log(cz);


var SuperGalacticXYZ = function(sgl,sgb,cz){
  var r = cz / HO;
  var sgx = r*Math.cos(sgl)*Math.cos(sgb);
  var sgy = r*Math.sin(sgl)*Math.cos(sgb);
  var sgz = r*Math.sin(sgb);
  return [sgx, sgy, sgz]
};





var sgX = [];
var sgY = [];
var sgZ = [];
var light = [];

function SGVelocity(velocity){
   sgX = [];
   sgY = [];
   sgZ = [];
   GsgX = [];
   GsgY = [];
   GsgZ = [];
for(var i = 0; i < x.length; i++){
    var sgxyz = SuperGalacticXYZ(sgl[i],sgb[i],velocity[i]);
  sgX.push(sgxyz[0]);
  sgY.push(sgxyz[1]);
  sgZ.push(sgxyz[2]);
  GsgX.push(sgxyz[0]);
  GsgY.push(sgxyz[1]);
  GsgZ.push(sgxyz[2]);
}
}


SGVelocity(cz);
for(var i = 0; i < x.length; i++){
  light[i] = cz[i]/Speedlight;
}



function bprecess(ra,dec){
    var radeg = 180.0/Math.PI;
    var sec_to_radian = 1/radeg/3600;
    var m;
    //in arc seconds per century
    var  ra_rad = ra/radeg;
    var  dec_rad = dec/radeg;
    var  cosra =  Math.cos( ra_rad );
    var  sinra = Math.sin( ra_rad );
    var  cosdec = Math.cos( dec_rad );
    var  sindec = Math.sin( dec_rad );
    var  dec_1950 = dec*0.
    var  ra_1950 = ra*0.


}
var eqx = [];
var eqy = [];
var eqz = [];

var RaToPolar = function(ra,dec,cz){
  ra = ra * Math.PI/180;
  dec = dec * Math.PI/180;
  var r = cz / HO;
  var sgx = r*Math.cos(ra)*Math.cos(dec);
  var sgy = r*Math.sin(ra)*Math.cos(dec);
  var sgz = r*Math.sin(dec);
  return [sgx,sgz,sgy]
};
for(var i = 0; i < hms.length; i++){
  var eqc = RaToPolar(seconds[i],arcseconds[i],cz[i]);
  eqx.push(eqc[0]);
  eqy.push(eqc[1]);
  eqz.push(eqc[2]);
}





var test1
astrojs.ready(function(e){
var coord = astrojs.coords.equatorial2galactic(x[i],y[i]);
gl[i] = coord.l;
gb[i] = coord.b;
});




    var data = [
          {mode: 'markers',
          type: "scatter3d",
          text: number,
          marker: {
            color: pn,
            symbol: 'circle',
            // line: {
          	// 	color: 'rgb(204, 204, 204)',
          	// 	width: 1},
            size: 5,
          },
          opacity: 0.3,
          x: sgX,
          y: sgY,
          z: sgZ}
      ];

    //Graph axis related things
    var layout = {
      scene: {
        xaxis: {
        title: 'sgX Mpc',
        autorange: true,
        linecolor: 'rgba(200, 200, 200, 1)',
        linewidth: 2,
        mirror: true,
        ticks: 'inside',
        ticklen: 10,
        tickwidth: 2,
        color: 'rgba(200, 200, 200, 1)',
      },
      yaxis: {
        title: 'sgY Mpc',
        autorange: true,
        gridcolor: 'rgba(200, 200, 200, 1)',
        backgroundcolor: 'rgba(200, 200, 200, 1)',
        zerolinecolor: 'rgba(200, 200, 200, 1)',
        linewidth: 2,
        mirror: true,
        ticks: 'inside',
        ticklen: 10,
        tickwidth: 2,
        color: 'rgba(200, 200, 200, 1)',
      },
      zaxis: {
        title: 'sgZ Mpc',
        autorange: true,
        gridcolor: 'rgb(255, 255, 255)',
        backgroundcolor: 'rgba(200, 200, 200, 1)',
        zerolinecolor: 'rgba(200, 200, 200, 1)',
        linewidth: 2,
        mirror: true,
        ticks: 'inside',
        ticklen: 10,
        tickwidth: 2,
        color: 'rgba(200, 200, 200, 1)',
      }
    },
      margin: {l: 0, r: 0, b: 0, t: 0},
      hovermode: false,
      gridcolor: 'rgba(200, 200, 200, 1)',
      plot_bgcolor: '#151515',
      paper_bgcolor: '#151515',
    };

    //Edits made to the toolbar
    var toolbar = {
    	scrollZoom: true, // lets us scroll to zoom in and out - works
    	showLink: false, // removes the link to edit on plotly - works
    	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
      displaylogo: false
    };
















    //----------------Edits the CSS in the div---------------//
    var WIDTH_IN_PERCENT_OF_PARENT = 100,
        HEIGHT_IN_PERCENT_OF_PARENT = 100;

    Plotly.d3.select('#my-graph')
        .style({
            width: WIDTH_IN_PERCENT_OF_PARENT + '%',
            height: HEIGHT_IN_PERCENT_OF_PARENT + '%',
        });
    var gd = Plotly.d3.select('#my-graph').node();

    // window.onresize = function() {
    //     Plotly.Plots.resize(gd);
    // };
    window.addEventListener('resize', function() { Plotly.Plots.resize(gd); });
    //-----------------END Responsive code-------------------//
    //---------------------Hover on and off----------------------//
    var checkboxDataON = function(){
      var layout_update = {
        hovermode: 'closest'
      };
      Plotly.relayout('my-graph', layout_update);
      Plotly.relayout('my-graph1', layout_update);
      Plotly.relayout('my-graph2', layout_update);
    };
    var checkboxDataOFF = function(){
      var layout_update = {
        hovermode: false
      };
      Plotly.relayout('my-graph', layout_update);
      Plotly.relayout('my-graph1', layout_update);
      Plotly.relayout('my-graph2', layout_update);
    };


    document.querySelector("input[name=onoffswitch1]").onchange = function() {
    if(this.checked) {
      //When switch is on
        checkboxDataON();
      } else {
        //when switch is off
        checkboxDataOFF();
      }
    }

    //---------------------Change the X-Axis Dropdown----------------------//
    var xaxis_update = jsFunction = function(value){
      if(value == 1){
        var data_update = {
          x: [sgX],
          y: [sgY],
          z: [sgZ],
        };
        Plotly.restyle(gd, data_update);
        var layout_update = {
          'scene.xaxis.title': 'sgX Mpc',
          'scene.yaxis.title': 'sgY Mpc',
          'scene.zaxis.title': 'sgZ Mpc',

        };
        Plotly.relayout(gd, layout_update);
        Plotly.redraw('my-graph');
      }
      else if(value == 2){
        var data_update = {
          x: [eqx],
          y: [eqy],
          z: [eqz],
        };
        Plotly.restyle(gd, data_update);
        var layout_update = {
          'scene.xaxis.title': 'Ra(sec)',
          'scene.yaxis.title': 'Dec(arcsec)',
          'scene.zaxis.title': 'deltaCZ',
        };
        Plotly.relayout(gd, layout_update);
      }else{
          var data_update = {
            x: [seconds],
            y: [arcseconds],
            z: [cz],
          };
          Plotly.restyle(gd, data_update);
          var layout_update = {
            'scene.xaxis.title': 'Ra(sec)',
            'scene.yaxis.title': 'Dec(arcsec)',
            'scene.zaxis.title': 'deltaCZ',
          };
          Plotly.relayout(gd, layout_update);
      }
    }
    //---------------------END of X-Axis----------------------//
// console.log(light);
    //---------------------Change the X-Axis Dropdown----------------------//
    var xaxis_update = jsFunction1 = function(value){
      if(value == 1){
        SGVelocity(cz);
        var data_update = {
          x: [sgX],
          y: [sgY],
          z: [sgZ],
        };
        Plotly.restyle(gd, data_update);
        var layout_update = {
          'scene.xaxis.title': 'sgX Mpc',
          'scene.yaxis.title': 'sgY Mpc',
          'scene.zaxis.title': 'sgZ Mpc',

        };
        Plotly.relayout(gd, layout_update);
      }
      else if(value == 2){
          SGVelocity(light);
        var data_update = {
          x: [sgX],
          y: [sgY],
          z: [sgZ],
        };
        Plotly.restyle(gd, data_update);
        var layout_update = {
          'scene.xaxis.title': 'sgX Mpc',
          'scene.yaxis.title': 'sgY Mpc',
          'scene.zaxis.title': 'sgZ Mpc',

        };
        Plotly.relayout(gd, layout_update);
      }else{
        SGVelocity(deltaCZ);
        var data_update = {
          x: [sgX],
          y: [sgY],
          z: [sgZ],
        };
        Plotly.restyle(gd, data_update);
        var layout_update = {
          'scene.xaxis.title': 'sgX Mpc',
          'scene.yaxis.title': 'sgY Mpc',
          'scene.zaxis.title': 'sgZ Mpc',

        };
        Plotly.relayout(gd, layout_update);
      }
    }
    //---------------------END of X-Axis----------------------//

    var scalescreenSize = $(window).height();
    var topHeight = scalescreenSize - scalescreenSize*0.4;

    var tableHeight = scalescreenSize*0.4;

    // var topItem = $(".data-box").css("height");
    // topItem = topItem.replace("px","");
    var topItem1 = $("#settings-right").css("height");
    topItem1 = topItem1.replace("px","");



    var finalTopHeight = 0;

    var topItem2 = $("#data-right").css("height");
    topItem2 = topItem2.replace("px","");


    if(topHeight < topItem2){
      finalTopHeight = topItem2;
    }else{
      finalTopHeight = topHeight;
    }


    // $(".grid-item").css({"height":finalTopHeight});
    $(".bottom-table").css({"height":tableHeight});
    // $(".grid-item--width--settings").css("height", topItem1);
    $(".grid-item--width--data").css("height", topItem2);
    $grid.packery('layout');

    //---------------------Resizing graph1----------------------//
    var topItemWidth1 = $("#my-graph").css("width");
    topItemWidth1 = topItemWidth1.replace("px","");
    topItemWidth1 = parseInt(topItemWidth1);
    topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
    $(".grid-item--width--graph1").css("height", topItemWidth1);
    $grid.packery('layout');

    window.addEventListener('resize', function() {
      var topItemWidth1 = $("#my-graph").css("width");
      topItemWidth1 = topItemWidth1.replace("px","");
      topItemWidth1 = parseInt(topItemWidth1);
      topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
      $(".grid-item--width--graph1").css("height", topItemWidth1);
      $grid.packery('layout');
    });

    //---------------------Resizing graph2----------------------//
    var topItemWidth = $("#my-graph1").css("width");
    topItemWidth = topItemWidth.replace("px","");
    topItemWidth = parseInt(topItemWidth);
    topItemWidth = topItemWidth - topItemWidth * 0.18;
    $(".grid-item--width--graph2").css("height", topItemWidth);
    $grid.packery('layout');

    window.addEventListener('resize', function() {
      var topItemWidth = $("#my-graph1").css("width");
      topItemWidth = topItemWidth.replace("px","");
      topItemWidth = parseInt(topItemWidth);
      topItemWidth = topItemWidth - topItemWidth * 0.18;
      $(".grid-item--width--graph2").css("height", topItemWidth);
      $grid.packery('layout');
    });

    //---------------------Resizing graph3----------------------//
    var topItemWidth2 = $("#my-graph2").css("width");
    topItemWidth2 = topItemWidth2.replace("px","");
    topItemWidth2 = parseInt(topItemWidth2);
    topItemWidth2 = topItemWidth2 - topItemWidth2 * 0.18;
    $(".grid-item--height2").css("height", topItemWidth2);
    $grid.packery('layout');

    window.addEventListener('resize', function() {
      var topItemWidth2 = $("#my-graph2").css("width");
      topItemWidth2 = topItemWidth2.replace("px","");
      topItemWidth2 = parseInt(topItemWidth2);
      topItemWidth2 = topItemWidth2 - topItemWidth2 * 0.18;
      $(".grid-item--height2").css("height", topItemWidth2);
      $grid.packery('layout');
    });

    //---------------------Resizing data-box----------------------//
    var topItemHeight = $("#data-right").css("height");
    topItemHeight = topItemHeight.replace("px","");
    topItemHeight = parseInt(topItemHeight);
    $(".grid-item--height--data").css("height", topItemHeight);
    $grid.packery('layout');

    window.addEventListener('resize', function() {
      var topItemHeight = $("#data-right").css("height");
      topItemHeight = topItemHeight.replace("px","");
      topItemHeight = parseInt(topItemHeight);
      $(".grid-item--height--data").css("height", topItemHeight);
      $grid.packery('layout');
    });


  //---------------------On and off Data----------------------//
    document.querySelector("input[name=onoffswitch5]").onchange = function() {
    if(this.checked) {
      //When switch is on
      $( "#data-window" ).toggle();
      var dataheight = $(".data-box").css("height");
      dataheight = dataheight.replace("px","");
      dataheight = parseInt(dataheight);
      $("#data-window").css({"height": dataheight});
      $(".grid-item--width--main").css({"width": "73%"});
      $("#myonoffswitch1").prop("checked", true);
      checkboxDataON();
      } else {
        //when switch is off
        $( "#data-window" ).toggle();
        $(".grid-item--width--main").css({"width": "31.3333%"});
      }
      Plotly.Plots.resize(gd);
      $grid.packery('layout');
    }
    document.querySelector("input[name=onoffswitch5]").addEventListener('change', function(){
      Plotly.Plots.resize(gd);
      $grid.packery('layout');
    });



      // $(".grid-item--width--main").css({"width": "31.3333%"});
      Plotly.Plots.resize(gd);
      $grid.packery('layout');
      //---------------------END of controls----------------------//

var Graph1Cases = function(){
  if(document.querySelector("input[name=onoffswitch8]").checked == false && document.querySelector("input[name=onoffswitch9]").checked == true){
    $(".grid-item--width--graph1").css({"width": "70%"});
    var topItemWidth1 = $("#my-graph").css("width");
    topItemWidth1 = topItemWidth1.replace("px","");
    topItemWidth1 = parseInt(topItemWidth1);
    topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
    $(".grid-item--width--graph1").css("height", topItemWidth1);
    $grid.packery('layout');
    Plotly.Plots.resize(gd);
  }else if(document.querySelector("input[name=onoffswitch8]").checked == false && document.querySelector("input[name=onoffswitch9]").checked == false){
    $(".grid-item--width--graph1").css({"width": "98%"});
    var topItemWidth1 = $("#my-graph").css("width");
    topItemWidth1 = topItemWidth1.replace("px","");
    topItemWidth1 = parseInt(topItemWidth1);
    topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
    $(".grid-item--width--graph1").css("height", topItemWidth1);
    $grid.packery('layout');
    Plotly.Plots.resize(gd);
  }else if(document.querySelector("input[name=onoffswitch8]").checked == true && document.querySelector("input[name=onoffswitch9]").checked == true){
    $(".grid-item--width--graph1").css({"width": "34%"});
    var topItemWidth1 = $("#my-graph").css("width");
    topItemWidth1 = topItemWidth1.replace("px","");
    topItemWidth1 = parseInt(topItemWidth1);
    topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
    $(".grid-item--width--graph1").css("height", topItemWidth1);
    $grid.packery('layout');
    Plotly.Plots.resize(gd);
  }else if(document.querySelector("input[name=onoffswitch8]").checked == true && document.querySelector("input[name=onoffswitch9]").checked == false){
    $(".grid-item--width--graph1").css({"width": "48%"});
    var topItemWidth1 = $("#my-graph").css("width");
    topItemWidth1 = topItemWidth1.replace("px","");
    topItemWidth1 = parseInt(topItemWidth1);
    topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
    $(".grid-item--width--graph1").css("height", topItemWidth1);
    $(".grid-item--width--graphSettings").css({"width": "98%"});
    $(".grid-item--width--table").css({"width": "98%"});
    $(".grid-item--width--data").css({"width": "98%"});
    $grid.packery('layout');
    Plotly.Plots.resize(gd);
  }
};

      //---------------------On and off 3D Graph----------------------//
        document.querySelector("input[name=onoffswitch7]").onchange = function() {
        if(this.checked) {
          //When switch is on
          $( "#togglegraph1" ).toggle();
          Graph1Cases();
          $grid.packery('layout');
          } else {
            //when switch is off
            $( "#togglegraph1" ).toggle();
            $grid.packery('layout');
          }
        }
        document.querySelector("input[name=onoffswitch8]").addEventListener('change', function(){
          Graph1Cases();
        });
        document.querySelector("input[name=onoffswitch9]").addEventListener('change', function(){
          Graph1Cases();
        });
          //---------------------END of controls----------------------//
          //Resize after sidebar click
          $("#menu-toggle").click(function(e) {
              e.preventDefault();
              $("#wrapper").toggleClass("toggled");
              resizeplot1(gd);
              });

    //Calls the plot into HTML
    Plotly.plot(gd, data, layout, toolbar);

    //---------------------Pulls information into table----------------------//
    //Event handler in plotly when it comes to hovering
    var myPlot = document.getElementById('my-graph');
    var hoverInfoNum = document.getElementById('hoverinfonum');
    var hoverInfoName = document.getElementById('hoverinfoname');
    var hoverInfoRa = document.getElementById('hoverinfora');
    var hoverInfoDec = document.getElementById('hoverinfodec');
    var hoverInfoOType = document.getElementById('hoverinfootype');
    var hoverInfoCz = document.getElementById('hoverinfocz');
    var hoverInfoZFlag = document.getElementById('hoverinfozflag');
    var hoverInfoRShift = document.getElementById('hoverinforshift');
    var hoverInfoPa = document.getElementById('hoverinfopa');
    var hoverInfoSep = document.getElementById('hoverinfosep');
    var hoverInfoDeltaCZ = document.getElementById('hoverinfodeltacz');

    myPlot.on('plotly_click', function(data){
    //displays point number and acts as a counter for arrays
       var pts = '';
          for(var i=0; i < data.points.length; i++){
              pts = data.points[i].text;
          }
          var pCounter = pts;

      //Display the Point number
       var numbertext = data.points.map(function(d){return (pts);});
       hoverInfoNum.innerHTML = numbertext.join('');
      //Display the Point number
       var nametext = data.points.map(function(d){return (names[pCounter]);});
       hoverInfoName.innerHTML = nametext.join('');
      //Display the Point number
       var ratext = data.points.map(function(d){return (Ra[pCounter]);});
       hoverInfoRa.innerHTML = ratext.join('');
      //Display the Point number
       var dectext = data.points.map(function(d){return (Dec[pCounter]);});
       hoverInfoDec.innerHTML = dectext.join('');
      //Display the Point number
       var otypetext = data.points.map(function(d){return (OType[pCounter]);});
       hoverInfoOType.innerHTML = otypetext.join('');
      //Display the Point number
       var cztext = data.points.map(function(d){return (cz[pCounter]);});
       hoverInfoCz.innerHTML = cztext.join('');
      //Display the Point number
       var zflagtext = data.points.map(function(d){return (zFlag[pCounter]);});
       hoverInfoZFlag.innerHTML = zflagtext.join('');
      //Display the Point number
       var rshifttext = data.points.map(function(d){return (RShift[pCounter]);});
       hoverInfoRShift.innerHTML = rshifttext.join('');
      //Display the Point number
       var patext = data.points.map(function(d){return (Pa[pCounter]);});
       hoverInfoPa.innerHTML = patext.join('');
      //Display the Point number
       var septext = data.points.map(function(d){return (Sep[pCounter]);});
       hoverInfoSep.innerHTML = septext.join('');
      //Display the Point number
       var deltacztext = data.points.map(function(d){return (deltaCZ[pCounter]);});
       hoverInfoDeltaCZ.innerHTML = deltacztext.join('');



    //---------------------END OF TABLE----------------------//






    });





}



function AddPlot2(){


            var delta = deltaCZ.slice(0);
            var arrayLength = hms.length;
            //flips x axis

            for(var i = 0; i < x.length; i++)
            {
              xplot2[i] = -x[i];
            }



            //Finding the center point for anotation
            var xmax = Math.max.apply(Math, xplot2);
            var xmin = Math.min.apply(Math, xplot2);
            var xcenter = (xmax + xmin)/2;

            var ymax = Math.max.apply(Math, y);
            var ymin = Math.min.apply(Math, y);
            var ycenter = (ymax + ymin)/2;

            var ylength = ymax - ymin;
            var xlength = xmax - xmin;
            // console.log(ylength);
            // console.log(xlength);


            // var xleft = xcenter + -500;
            // var xright = xcenter + 500;
            // var ybottom = ycenter + -50000;
            // var ytop = ycenter + 50000;


            //Outer circle 10pc
            var xleft = xcenter + xlength/2;
            var xright = xcenter - xlength/2;
            var ybottom = ycenter + ylength/2;
            var ytop = ycenter - ylength/2;

            //5pc
            var xleft1 = xcenter + xlength/4;
            var xright1 = xcenter - xlength/4;
            var ybottom1 = ycenter + ylength/4;
            var ytop1 = ycenter - ylength/4;

            //2.5pc
            var xleft2 = xcenter + xlength/8;
            var xright2 = xcenter - xlength/8;
            var ybottom2 = ycenter + ylength/8;
            var ytop2 = ycenter - ylength/8;

            //1.25pc
            var xleft3 = xcenter + xlength/16;
            var xright3 = xcenter - xlength/16;
            var ybottom3 = ycenter + ylength/16;
            var ytop3 = ycenter - ylength/16;

            //1.25pc
            var xleft4 = xcenter - xlength/32;
            var xright4 = xcenter + xlength/32;
            var ybottom4 = ycenter - ylength/32;
            var ytop4 = ycenter + ylength/32;

            //adds shape to the ponts
            for(i = 0; i < x.length; i++){
              if (pShape[i] === "G") {
                pShape[i] = "circle-open";
              }
              else if(pShape[i] === "GGroup"){
                pShape[i] = "square-open";
              }
              else if(pShape[i] === "GTrpl"){
                pShape[i] = "triangle-up-open";
              }
              else if(pShape[i] === "Gclstr"){
                pShape[i] = "diamond-cross-open";
              }
              else {
                pShape[i] = "circle";
              }
            }




            var data = [
                  {mode: 'markers',
                  type: "scatter",
                  text: number,
                  name: 'this',
                  marker: {
                    color: pn,
                    symbol: pShape,
                  },
                  x: xplot2,
                  y: y}
              ];

            //Graph axis related things
            var layout = {
              xaxis: {
                title: 'RA<sub>(sec)</sub>',
                autorange: true,
                linecolor: 'rgb(200, 200, 200)',
                linewidth: 2,
                mirror: true,
                ticks: 'inside',
                ticklen: 10,
                tickwidth: 2,
                color: 'rgb(200, 200, 200)',
              },
              yaxis: {
                title: 'Dec<sub>(arcsec)</sub>',
                autorange: true,
                linecolor: 'rgb(200, 200, 200)',
                linewidth: 2,
                mirror: true,
                ticks: 'inside',
                ticklen: 10,
                tickwidth: 2,
                color: 'rgb(200, 200, 200)',
              },
              margin: {t: 20},
              hovermode: false,
              plot_bgcolor: '#151515',
              paper_bgcolor: '#151515',
              // plot_bgcolor: 'rgba(0,0,0,0)',
              shapes: [

                // Unfilled Circle

                {
                  type: 'circle',
                  xref: 'x',
                  yref: 'y',
                  // fillcolor: 'rgba(50, 171, 96, 0.7)',
                  x0: xleft,
                  y0: ytop,
                  x1: xright,
                  y1: ybottom,
                  line: {
                    color: 'rgba(100, 100, 100, 0.5)'
                  }
                },
                {
                  type: 'circle',
                  xref: 'x',
                  yref: 'y',
                  // fillcolor: 'rgba(50, 171, 96, 0.7)',
                  x0: xleft1,
                  y0: ytop1,
                  x1: xright1,
                  y1: ybottom1,
                  line: {
                    color: 'rgba(100, 100, 100, 0.5)'
                  }
                },
                {
                  type: 'circle',
                  xref: 'x',
                  yref: 'y',
                  // fillcolor: 'rgba(50, 171, 96, 0.7)',
                  x0: xleft2,
                  y0: ytop2,
                  x1: xright2,
                  y1: ybottom2,
                  line: {
                    color: 'rgba(100, 100, 100, 0.5)'
                  }
                },
                {
                  type: 'circle',
                  xref: 'x',
                  yref: 'y',
                  // fillcolor: 'rgba(50, 171, 96, 0.7)',
                  x0: xleft3,
                  y0: ytop3,
                  x1: xright3,
                  y1: ybottom3,
                  line: {
                    color: 'rgba(100, 100, 100, 0.5)'
                  }
                },
                {
                  type: 'circle',
                  xref: 'x',
                  yref: 'y',
                  // fillcolor: 'rgba(50, 171, 96, 0.7)',
                  x0: xleft4,
                  y0: ytop4,
                  x1: xright4,
                  y1: ybottom4,
                  line: {
                    color: 'rgba(100, 100, 100, 0.5)'
                  }
                },
              ]
            };

            //Edits made to the toolbar
            var toolbar = {
            	scrollZoom: true, // lets us scroll to zoom in and out - works
            	showLink: false, // removes the link to edit on plotly - works
            	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
              displaylogo: false
            };
            //----------------Edits the CSS in the div---------------//
            var WIDTH_IN_PERCENT_OF_PARENT = 100,
                HEIGHT_IN_PERCENT_OF_PARENT = 100;

            Plotly.d3.select('#my-graph1')
                .style({
                    width: WIDTH_IN_PERCENT_OF_PARENT + '%',
                    height: HEIGHT_IN_PERCENT_OF_PARENT + '%',
                });
            var gd1 = Plotly.d3.select('#my-graph1').node();

            // window.onresize = function() {
            //     Plotly.Plots.resize(gd1);
            // };

            window.addEventListener('resize', function() { Plotly.Plots.resize(gd1); });
            //-----------------END Responsive code-------------------//
            //Resize after sidebar click
            $("#menu-toggle").click(function() {
              resizeplot2(gd1);
            });
            //Calls the plot into HTML
            Plotly.plot(gd1, data, layout, toolbar);

            // -----------------Slider to update multiple graphes-----------------//
            // -------------------------------------------------------------------//
            //parse the delta data so it is useable
            for(i = 0; i < delta.length; i++){
                delta[i] = parseInt(delta[i]);
            }
            var deltaMax = Math.max.apply(Math, delta);
            var deltaMin = Math.min.apply(Math, delta);



            var slider = document.getElementById('slider');

            noUiSlider.create(slider, {
            	start: [deltaMin, deltaMax],
            	connect: true,
            	range: {
            		'min': deltaMin,
            		'max': deltaMax
            	},
              pips: { // Show a scale with the slider
                  mode: 'steps',
                  stepped: true,
                  density: 4
                },
                tooltips: true,
              	format: wNumb({
              		decimals: 0
              	}),
                // step: 1000,
            });


            //teathered to the slider
            slider.noUiSlider.on('set', function(){
              var sgxTemp = GsgX.slice(0);
              var sgyTemp = GsgY.slice(0);
              var sgzTemp = GsgZ.slice(0);
              var xCoorTemp = xnew.slice(0);

              var sliderValues = slider.noUiSlider.get();
              var xslider = xplot2.slice(0);
              var yslider = y.slice(0);
              var yLongSlider = deltaCZ.slice(0);

              for(i = 0; i < xslider.length; i++){
                if (delta[i] <= sliderValues[1] && delta[i] >= sliderValues[0]){
                }else{
                  delete xslider[i];
                  delete yslider[i];
                  delete yLongSlider[i];
                  delete sgxTemp[i];
                  delete sgyTemp[i];
                  delete sgzTemp[i];
                  delete xCoorTemp[i]
                }
              }
              var data_update = {
                x: [sgxTemp],
                y: [sgyTemp],
                // z: [sgzTemp],
              };
              var data_update1 = {
                x: [xslider],
                y: [yslider]
              };
              var data_update2 = {
                x: [xCoorTemp],
                y: [yLongSlider]
              };

                Plotly.restyle('my-graph', data_update);
                Plotly.restyle('my-graph1', data_update1);
                Plotly.restyle('my-graph2', data_update2);

            });

            var Graph2Cases = function(){
              if(document.querySelector("input[name=onoffswitch7]").checked == false && document.querySelector("input[name=onoffswitch9]").checked == true){
                $(".grid-item--width--graph2").css({"width": "70%"});
                var topItemWidth1 = $("#my-graph1").css("width");
                topItemWidth1 = topItemWidth1.replace("px","");
                topItemWidth1 = parseInt(topItemWidth1);
                topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
                $(".grid-item--width--graph2").css("height", topItemWidth1);
                $grid.packery('layout');
                Plotly.Plots.resize(gd1);
              }else if(document.querySelector("input[name=onoffswitch7]").checked == false && document.querySelector("input[name=onoffswitch9]").checked == false){
                $(".grid-item--width--graph2").css({"width": "98%"});
                var topItemWidth1 = $("#my-graph1").css("width");
                topItemWidth1 = topItemWidth1.replace("px","");
                topItemWidth1 = parseInt(topItemWidth1);
                topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
                $(".grid-item--width--graph2").css("height", topItemWidth1);
                $grid.packery('layout');
                Plotly.Plots.resize(gd1);
              }else if(document.querySelector("input[name=onoffswitch7]").checked == true && document.querySelector("input[name=onoffswitch9]").checked == true){
                $(".grid-item--width--graph2").css({"width": "34%"});
                var topItemWidth1 = $("#my-graph1").css("width");
                topItemWidth1 = topItemWidth1.replace("px","");
                topItemWidth1 = parseInt(topItemWidth1);
                topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
                $(".grid-item--width--graph2").css("height", topItemWidth1);
                $grid.packery('layout');
                Plotly.Plots.resize(gd1);
              }else if(document.querySelector("input[name=onoffswitch7]").checked == true && document.querySelector("input[name=onoffswitch9]").checked == false){
                $(".grid-item--width--graph2").css({"width": "48%"});
                var topItemWidth1 = $("#my-graph1").css("width");
                topItemWidth1 = topItemWidth1.replace("px","");
                topItemWidth1 = parseInt(topItemWidth1);
                topItemWidth1 = topItemWidth1 - topItemWidth1 * 0.18;
                $(".grid-item--width--graph2").css("height", topItemWidth1);
                $grid.packery('layout');
                Plotly.Plots.resize(gd1);
              }
            };




            //---------------------On and off 3D Graph----------------------//
              document.querySelector("input[name=onoffswitch8]").onchange = function() {
              if(this.checked) {
                //When switch is on
                $( "#togglegraph2" ).toggle();
                Graph2Cases();
                $grid.packery('layout');
                } else {
                  //when switch is off
                  $( "#togglegraph2" ).toggle();
                  Graph2Cases();
                  $grid.packery('layout');
                }
              }
                //---------------------END of controls----------------------//

                document.querySelector("input[name=onoffswitch7]").addEventListener('change', function(){
                  Graph2Cases();
                });
                document.querySelector("input[name=onoffswitch9]").addEventListener('change', function(){
                  Graph2Cases();
                });

                  //---------------------END of controls----------------------//








            //---------------------Pulls information into table----------------------//
            //Event handler in plotly when it comes to hovering
            var myPlot = document.getElementById('my-graph1');
            var hoverInfoNum = document.getElementById('hoverinfonum');
            var hoverInfoName = document.getElementById('hoverinfoname');
            var hoverInfoRa = document.getElementById('hoverinfora');
            var hoverInfoDec = document.getElementById('hoverinfodec');
            var hoverInfoOType = document.getElementById('hoverinfootype');
            var hoverInfoCz = document.getElementById('hoverinfocz');
            var hoverInfoZFlag = document.getElementById('hoverinfozflag');
            var hoverInfoRShift = document.getElementById('hoverinforshift');
            var hoverInfoPa = document.getElementById('hoverinfopa');
            var hoverInfoSep = document.getElementById('hoverinfosep');
            var hoverInfoDeltaCZ = document.getElementById('hoverinfodeltacz');

            myPlot.on('plotly_click', function(data){
            //displays point number and acts as a counter for arrays
               var pts = '';
                  for(var i=0; i < data.points.length; i++){
                      pts = data.points[i].text;
                  }
                  var pCounter = pts;

              //Display the Point number
               var numbertext = data.points.map(function(d){return (pts);});
               hoverInfoNum.innerHTML = numbertext.join('');
              //Display the Point number
               var nametext = data.points.map(function(d){return (names[pCounter]);});
               hoverInfoName.innerHTML = nametext.join('');
              //Display the Point number
               var ratext = data.points.map(function(d){return (Ra[pCounter]);});
               hoverInfoRa.innerHTML = ratext.join('');
              //Display the Point number
               var dectext = data.points.map(function(d){return (Dec[pCounter]);});
               hoverInfoDec.innerHTML = dectext.join('');
              //Display the Point number
               var otypetext = data.points.map(function(d){return (OType[pCounter]);});
               hoverInfoOType.innerHTML = otypetext.join('');
              //Display the Point number
               var cztext = data.points.map(function(d){return (cz[pCounter]);});
               hoverInfoCz.innerHTML = cztext.join('');
              //Display the Point number
               var zflagtext = data.points.map(function(d){return (zFlag[pCounter]);});
               hoverInfoZFlag.innerHTML = zflagtext.join('');
              //Display the Point number
               var rshifttext = data.points.map(function(d){return (RShift[pCounter]);});
               hoverInfoRShift.innerHTML = rshifttext.join('');
              //Display the Point number
               var patext = data.points.map(function(d){return (Pa[pCounter]);});
               hoverInfoPa.innerHTML = patext.join('');
              //Display the Point number
               var septext = data.points.map(function(d){return (Sep[pCounter]);});
               hoverInfoSep.innerHTML = septext.join('');
              //Display the Point number
               var deltacztext = data.points.map(function(d){return (deltaCZ[pCounter]);});
               hoverInfoDeltaCZ.innerHTML = deltacztext.join('');



            //---------------------END OF TABLE----------------------//


            });




}


function AddPlot3(){


            var GxCoor = [];
            var xCoor = [];
            var yCoor = [];
            var zCoor = [];

            var m;
            var xaxistemp;
            var yminslope;
            var RaToPolar = function(ra,dec,cz){
              ra = ra * Math.PI/180;
              dec = dec * Math.PI/180;
              var r = cz / HO;
              var sgx = r*Math.cos(ra)*Math.cos(dec);
              var sgy = r*Math.cos(ra)*Math.sin(dec);
              var sgz = r*Math.sin(dec);
              return [sgx,sgz,sgy]
            };

            for(var i = 0; i < hms.length; i++){
              var sgc = RaToPolar(seconds[i],arcseconds[i],cz[i]);
              xCoor.push(sgc[0]);
              GxCoor.push(sgc[0]);
              yCoor.push(sgc[1]);
              zCoor.push(sgc[2]);
              xCoorFinal[i] = xCoor[0] - xCoor[i];
            }
            var index = 0;
            var value = deltaCZ[0];
            for (var i = 1; i < deltaCZ.length; i++) {
              if (parseInt(deltaCZ[i]) < value) {
                value = deltaCZ[i];
                index = i;
              }
            }

            m = (deltaCZ[index] - deltaCZ[0])/(xCoorFinal[index] - xCoorFinal[0]);
            for(var i = 0; i < hms.length; i++){
              xaxistemp = deltaCZ[i]/m;
              xCoorFinal[i] = xaxistemp - xCoorFinal[i];
              xCoorFinal[i] = -xCoorFinal[i];
            }


            var colorvar = [];
            var hold;

            // Finding the center point for anotation
            var cmax = Math.max.apply(Math, arcseconds);
            var cmin = Math.min.apply(Math, arcseconds);
            var ccenter = (cmax + cmin)/2;
            for(i = 0; i <= arcseconds.length; i++)
            {
              if(arcseconds[i] < ccenter){
                hold = '#601DC7';
                colorvar.push(hold);
              }else{
                hold = '#FD5F00';
                colorvar.push(hold);
              }
            }




            for(var i = 0; i < Ra.length; i++){
              var thetaVal = 90 - Pa[i];
              if(thetaVal > 0){
                thetaVal += 360;
              }
            thetaVal = (thetaVal * Math.PI)/ 180;
              xnew[i] = (-1 * Sep[i] * Math.cos(thetaVal)/5 * cz[i]) / (5000 + cz[0]);
            };
            var xbottomTaper = (5000) / (5000 + cz[0]);
            console.log(xbottomTaper);


        var data = [
              {mode: 'markers',
              type: "scatter",
              text: number,
              name: 'this',
              marker: {color: pn,
              shape: pShape},
              x: xnew,
              y: deltaCZ}
          ];

        //Graph axis related things
        var layout = {
          xaxis: {
            title: 'RA<sub>(sec)</sub>',
            visable: false,
            showline: false,
            showgrid: false,
            showticklabels: false,
          },
          yaxis: {
            title: 'Δ<sub>cz</sub> [km/s]',
            autorange: true,
            linecolor: 'rgba(0,0,0,0)',
            linewidth: 2,
            mirror: true,
            ticks: 'inside',
            ticklen: 10,
            tickwidth: 2,
            color: 'rgb(200, 200, 200)',
          },
          margin: {
            t: 20,
            // r: 20,
          },
          hovermode: false,
          plot_bgcolor: '#151515',
          paper_bgcolor: '#151515',
          shapes: [

            // Unfilled Circle

            {
              type: 'path',
              path: 'M -2,5000 L2,5000 L'+ xbottomTaper +',-5000 L' + -xbottomTaper + ',-5000, L-2,5000' ,
              line: {
                color: 'rgba(100, 100, 100, 1)'
              }
            },

          ]
        };

        //Edits made to the toolbar
        var toolbar = {
        	scrollZoom: true, // lets us scroll to zoom in and out - works
        	showLink: false, // removes the link to edit on plotly - works
        	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
          displaylogo: false
        };
        //----------------Edits the CSS in the div---------------//
        var WIDTH_IN_PERCENT_OF_PARENT = 100,
            HEIGHT_IN_PERCENT_OF_PARENT = 100;

        Plotly.d3.select('#my-graph2')
            .style({
                width: WIDTH_IN_PERCENT_OF_PARENT + '%',
                height: HEIGHT_IN_PERCENT_OF_PARENT + '%',
            });
        var gd2 = Plotly.d3.select('#my-graph2').node();

      window.addEventListener('resize', function() { Plotly.Plots.resize(gd2); });
        //-----------------END Responsive code-------------------//


        //---------------------Resizing graph1----------------------//
        var topItemWidth2 = $("#my-graph2").css("width");
        topItemWidth2 = topItemWidth2.replace("px","");
        topItemWidth2 = parseInt(topItemWidth2);
        topItemWidth2 = topItemWidth2 * 2.4;
        $(".grid-item--height2").css("height", topItemWidth2);
        $grid.packery('layout');

        window.addEventListener('resize', function() {
          var topItemWidth2 = $("#my-graph2").css("width");
          topItemWidth2 = topItemWidth2.replace("px","");
          topItemWidth2 = parseInt(topItemWidth2);
          topItemWidth2 = topItemWidth2 * 2.4;
          $(".grid-item--height2").css("height", topItemWidth2);
          $grid.packery('layout');
        });



        var Graph3Cases = function(){
          if(document.querySelector("input[name=onoffswitch7]").checked == false && document.querySelector("input[name=onoffswitch8]").checked == true){
            $(".grid-item--width--graph3").css({"width": "25%"});
            var topItemWidth1 = $("#my-graph2").css("width");
            topItemWidth1 = topItemWidth1.replace("px","");
            topItemWidth1 = parseInt(topItemWidth1);
            topItemWidth1 = topItemWidth1 * 2.4;
            $(".grid-item--width--graph3").css("height", topItemWidth1);
            $(".grid-item--width--table").css("width", "69%");
            $(".grid-item--width--graphSettings").css("width", "69%");
            $grid.packery('layout');
            Plotly.Plots.resize(gd2);
          }else if(document.querySelector("input[name=onoffswitch7]").checked == false && document.querySelector("input[name=onoffswitch8]").checked == false){
            $(".grid-item--width--graph3").css({"width": "48%"});
            var topItemWidth1 = $("#my-graph2").css("width");
            topItemWidth1 = topItemWidth1.replace("px","");
            topItemWidth1 = parseInt(topItemWidth1);
            topItemWidth1 = topItemWidth1 * 2.4;
            $(".grid-item--width--graph3").css("height", topItemWidth1);
            $(".grid-item--width--table").css("width", "48%");
            $(".grid-item--width--graphSettings").css("width", "48%");
            console.log($(".grid-item--width--table").css("width"));
            var scalescreenSize = $(window).height();
            var topHeight = scalescreenSize - scalescreenSize*0.04;
            $(".grid-item--width--graph3").css("height", topHeight);

            $grid.packery('layout');
            Plotly.Plots.resize(gd2);
          }else if(document.querySelector("input[name=onoffswitch7]").checked == true && document.querySelector("input[name=onoffswitch8]").checked == true){
            $(".grid-item--width--graph3").css({"width": "25%"});
            var topItemWidth1 = $("#my-graph2").css("width");
            topItemWidth1 = topItemWidth1.replace("px","");
            topItemWidth1 = parseInt(topItemWidth1);
            topItemWidth1 = topItemWidth1 * 2.4;
            $(".grid-item--width--graph3").css("height", topItemWidth1);
            $(".grid-item--width--table").css("width", "69%");
            $(".grid-item--width--graphSettings").css("width", "69%");
            $grid.packery('layout');
            Plotly.Plots.resize(gd2);
          }else if(document.querySelector("input[name=onoffswitch7]").checked == true && document.querySelector("input[name=onoffswitch8]").checked == false){
            $(".grid-item--width--graph3").css({"width": "25%"});
            var topItemWidth1 = $("#my-graph2").css("width");
            topItemWidth1 = topItemWidth1.replace("px","");
            topItemWidth1 = parseInt(topItemWidth1);
            topItemWidth1 = topItemWidth1 * 2.4;

            $(".grid-item--width--graph3").css("height", topItemWidth1);
            $(".grid-item--width--table").css("width", "69%");
            $(".grid-item--width--graphSettings").css("width", "69%");
            $grid.packery('layout');
            Plotly.Plots.resize(gd2);
          }
        };



        //---------------------On and off 3D Graph----------------------//
          document.querySelector("input[name=onoffswitch9]").onchange = function() {
          if(this.checked) {
            //When switch is on
            $( "#togglegraph3" ).toggle();
            Graph3Cases();
            $grid.packery('layout');
            } else {
              //when switch is off
              $( "#togglegraph3" ).toggle();
              $grid.packery('layout');
            }
          }
            //---------------------END of controls----------------------//

            document.querySelector("input[name=onoffswitch7]").addEventListener('change', function(){
              Graph3Cases();
            });
            document.querySelector("input[name=onoffswitch8]").addEventListener('change', function(){
              Graph3Cases();
            });

            //---------------------On and off 3D Graph----------------------//
              document.querySelector("input[name=onoffswitch10]").onchange = function() {
              if(this.checked) {
                //When switch is on
                var data_update = {
                  marker: {
                    color: colorvar,
                    symbol: 'circle',
                    size: 5,
                  },
                  opacity: 0.3,
                };
                  Plotly.restyle('my-graph', data_update);
                  var data_update = {
                  marker: {
                    color: colorvar,
                    symbol: pShape,
                  }
                };

                  Plotly.restyle('my-graph1', data_update);
                  Plotly.restyle('my-graph2', data_update);
                } else {
                  //when switch is off
                  var data_update = {
                    marker: {
                      color: pn,
                      symbol: 'circle',
                      size: 5,
                    },
                    opacity: 0.3,
                  };
                  Plotly.restyle('my-graph', data_update);
                  var data_update = {
                    marker: {
                      color: pn,
                      symbol: pShape,
                    }
                  };
                    Plotly.restyle('my-graph1', data_update);
                    Plotly.restyle('my-graph2', data_update);
                }
              }
                //---------------------END of controls----------------------//

                //Resize after sidebar click
                $("#menu-toggle").click(function() {
                  setTimeout(resizeplot2(gd2), 5000);
                });

        //Calls the plot into HTML
        Plotly.plot(gd2, data, layout, toolbar);





        //---------------------Pulls information into table----------------------//
        //Event handler in plotly when it comes to hovering
        var myPlot = document.getElementById('my-graph2');
        var hoverInfoNum = document.getElementById('hoverinfonum');
        var hoverInfoName = document.getElementById('hoverinfoname');
        var hoverInfoRa = document.getElementById('hoverinfora');
        var hoverInfoDec = document.getElementById('hoverinfodec');
        var hoverInfoOType = document.getElementById('hoverinfootype');
        var hoverInfoCz = document.getElementById('hoverinfocz');
        var hoverInfoZFlag = document.getElementById('hoverinfozflag');
        var hoverInfoRShift = document.getElementById('hoverinforshift');
        var hoverInfoPa = document.getElementById('hoverinfopa');
        var hoverInfoSep = document.getElementById('hoverinfosep');
        var hoverInfoDeltaCZ = document.getElementById('hoverinfodeltacz');

        myPlot.on('plotly_click', function(data){
        //displays point number and acts as a counter for arrays
           var pts = '';
              for(var i=0; i < data.points.length; i++){
                  pts = data.points[i].text;
              }
              var pCounter = pts;

          //Display the Point number
           var numbertext = data.points.map(function(d){return (pts);});
           hoverInfoNum.innerHTML = numbertext.join('');
          //Display the Point number
           var nametext = data.points.map(function(d){return (names[pCounter]);});
           hoverInfoName.innerHTML = nametext.join('');
          //Display the Point number
           var ratext = data.points.map(function(d){return (Ra[pCounter]);});
           hoverInfoRa.innerHTML = ratext.join('');
          //Display the Point number
           var dectext = data.points.map(function(d){return (Dec[pCounter]);});
           hoverInfoDec.innerHTML = dectext.join('');
          //Display the Point number
           var otypetext = data.points.map(function(d){return (OType[pCounter]);});
           hoverInfoOType.innerHTML = otypetext.join('');
          //Display the Point number
           var cztext = data.points.map(function(d){return (cz[pCounter]);});
           hoverInfoCz.innerHTML = cztext.join('');
          //Display the Point number
           var zflagtext = data.points.map(function(d){return (zFlag[pCounter]);});
           hoverInfoZFlag.innerHTML = zflagtext.join('');
          //Display the Point number
           var rshifttext = data.points.map(function(d){return (RShift[pCounter]);});
           hoverInfoRShift.innerHTML = rshifttext.join('');
          //Display the Point number
           var patext = data.points.map(function(d){return (Pa[pCounter]);});
           hoverInfoPa.innerHTML = patext.join('');
          //Display the Point number
           var septext = data.points.map(function(d){return (Sep[pCounter]);});
           hoverInfoSep.innerHTML = septext.join('');
          //Display the Point number
           var deltacztext = data.points.map(function(d){return (deltaCZ[pCounter]);});
           hoverInfoDeltaCZ.innerHTML = deltacztext.join('');



        //---------------------END OF TABLE----------------------//








        });

}



      function WhiteLayout(graph, XAxisCurrent, YAxisCurrent, ZAxisCurrent, margin, dimension){
        if(dimension === 0){
            var layout_update = {
            // title: 'ARP 220',
            titlefont: {
              color: 'black',
            },
            xaxis: {
              title: XAxisCurrent,
              autorange: true,
              linecolor: 'black',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444'
              },
            yaxis: {
              title: YAxisCurrent,
              autorange: true,
              linecolor: 'black',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444'
              },
            margin: margin,
            hovermode: false,
            plot_bgcolor: '#fff',
            paper_bgcolor: '#fff',
          };
        }else if(dimension === 1){
            var layout_update = {
            // title: 'ARP 220',
            titlefont: {
              color: 'black',
            },
            xaxis: {
              title: XAxisCurrent,
              visable: false,
              showline: false,
              showgrid: false,
              showticklabels: false,
              },
            yaxis: {
              title: YAxisCurrent,
              autorange: true,
              linecolor: 'rgba(0,0,0,0)',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444'
              },
            margin: margin,
            hovermode: false,
            plot_bgcolor: '#fff',
            paper_bgcolor: '#fff',
          };
        }else{
            var layout_update = {
            // title: 'ARP 220',
            titlefont: {
              color: 'black',
            },
            scene: {
              xaxis: {
              title: XAxisCurrent,
              autorange: true,
              linecolor: 'black',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444',
            },
            yaxis: {
              title: YAxisCurrent,
              autorange: true,
              linecolor: 'black',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444',
            },
            zaxis: {
              title: ZAxisCurrent,
              autorange: true,
              linecolor: 'black',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: '#444',
            }
          },
            margin: margin,
            hovermode: false,
            plot_bgcolor: '#fff',
            paper_bgcolor: '#fff',
          };
          }

          $('body').removeClass('dark-mode');
          Plotly.relayout(graph, layout_update);

        }

        function DarkLayout(graph, XAxisCurrent, YAxisCurrent, ZAxisCurrent, margin, dimension){
          if(dimension === 0){
            var layout_update = {
            // title: 'ARP 220',
            titlefont: {
              color: 'white',
            },
            xaxis: {
              title: XAxisCurrent,
              autorange: true,
              linecolor: 'white',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: 'rgb(255,255,255)'
              },
            yaxis: {
              title: YAxisCurrent,
              autorange: true,
              linecolor: 'white',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: 'rgb(255,255,255)'
              },
            margin: margin,
            hovermode: false,
            plot_bgcolor: '#151515',
            paper_bgcolor: '#151515',
          };
        }else if(dimension === 1){
          var layout_update = {
          // title: 'ARP 220',
          titlefont: {
            color: 'white',
          },
          xaxis: {
            title: XAxisCurrent,
            autorange: true,
            linecolor: 'rgba(0,0,0,0)',
            linewidth: 2,
            mirror: true,
            ticks: '',
            color: 'rgb(255,255,255)',
            visable: false,
            },
          yaxis: {
            title: YAxisCurrent,
            autorange: true,
            linecolor: 'rgba(0,0,0,0)',
            linewidth: 2,
            mirror: true,
            ticks: 'inside',
            ticklen: 10,
            tickwidth: 2,
            color: 'rgb(255,255,255)'
            },
          margin: margin,
          hovermode: false,
          plot_bgcolor: '#151515',
          paper_bgcolor: '#151515',
        };
        }else{
            var layout_update = {
            // title: 'ARP 220',
            titlefont: {
              color: 'white',
            },
            scene: {
              xaxis: {
              title: XAxisCurrent,
              autorange: true,
              gridcolor: 'rgba(200, 200, 200, 1)',
              linecolor: 'white',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: 'rgba(200, 200, 200, 1)',
            },
            yaxis: {
              title: YAxisCurrent,
              autorange: true,
              gridcolor: 'rgba(200, 200, 200, 1)',
              linecolor: 'white',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: 'rgba(200, 200, 200, 1)',
            },
            zaxis: {
              title: ZAxisCurrent,
              autorange: true,
              gridcolor: 'rgba(200, 200, 200, 1)',
              linecolor: 'white',
              linewidth: 2,
              mirror: true,
              ticks: 'inside',
              ticklen: 10,
              tickwidth: 2,
              color: 'rgba(200, 200, 200, 1)',
            }
          },
            margin: margin,
            hovermode: false,
            plot_bgcolor: '#151515',
            paper_bgcolor: '#151515',
          };
          }


          $('body').addClass('dark-mode');
          Plotly.relayout(graph, layout_update);
        }


function CheckDarkMode(){
  if ($("input[name=onoffswitch12]").is(':checked')){
    DarkLayout('my-graph1','RA<sub>(sec)</sub>', 'Dec<sub>(arcsec)</sub>','',{t: 20}, 0);
    DarkLayout('my-graph2',"", 'Δ<sub>cz</sub> [km/s]','', {t: 20}, 1);
    DarkLayout('my-graph','sgX (Mpc)', 'sgY (Mpc)','sgZ (Mpc)', {l: 0, r: 0, b: 0, t: 0}, 2);
  }
  else {
    WhiteLayout('my-graph1','RA<sub>(sec)</sub>', 'Dec<sub>(arcsec)</sub>','', {t: 20}, 0);
    WhiteLayout('my-graph2',"", 'Δ<sub>cz</sub> [km/s]','', {t: 20}, 1);
    WhiteLayout('my-graph','sgX (Mpc)', 'sgY (Mpc)','sgZ (Mpc)', {l: 0, r: 0, b: 0, t: 0}, 2);
  }
}

document.querySelector("input[name=onoffswitch12]").onchange  = function() {
CheckDarkMode();


}
</script>














  </body>
</html>
